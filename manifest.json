{
  "manifest_version": "0.3",
  "name": "victron-tcp",
  "display_name": "Victron TCP",
  "version": "1.0.0",
  "description": "Connect to Victron Energy GX devices via Modbus TCP or MQTT — read real-time solar, battery, grid, and inverter data from your local network.",
  "long_description": "An MCP server that connects to Victron Energy GX devices (Ekrano, Cerbo, Venus GX, etc.) via Modbus TCP or MQTT. Get direct, low-latency access to 900+ registers across 33 device categories — no cloud required. Supports dual transport: Modbus TCP for raw register access, MQTT for pre-scaled values with auto-discovery. Built from the official CCGX Modbus TCP register list (Rev 50).",
  "author": {
    "name": "Lubos Strejcek"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/lubosstrejcek/victron-tcp.git"
  },
  "homepage": "https://github.com/lubosstrejcek/victron-tcp",
  "license": "MIT",
  "keywords": [
    "victron",
    "modbus",
    "mqtt",
    "solar",
    "battery",
    "inverter",
    "energy",
    "venus-os"
  ],
  "server": {
    "type": "node",
    "entry_point": "dist/index.js",
    "mcp_config": {
      "command": "node",
      "args": ["${__dirname}/dist/index.js"],
      "env": {
        "VICTRON_HOST": "${user_config.host}",
        "VICTRON_TRANSPORT": "${user_config.transport}",
        "VICTRON_PORTAL_ID": "${user_config.portal_id}"
      }
    }
  },
  "user_config": {
    "host": {
      "type": "string",
      "title": "GX Device Host",
      "description": "IP address or hostname of your Victron GX device (e.g., 192.168.1.50)",
      "required": true
    },
    "transport": {
      "type": "string",
      "title": "Transport",
      "description": "Connection protocol: modbus (port 502) or mqtt (port 1883, enabled by default on Venus OS)",
      "default": "mqtt",
      "required": false
    },
    "portal_id": {
      "type": "string",
      "title": "Portal ID",
      "description": "Venus OS portal ID for MQTT (run victron_mqtt_discover to find it). Not needed for Modbus.",
      "required": false
    }
  },
  "tools": [
    {
      "name": "victron_system_overview",
      "description": "Battery SOC, voltage, current, PV power, grid power, AC consumption, Dynamic ESS status"
    },
    {
      "name": "victron_battery_status",
      "description": "Detailed battery: SOC, voltage, current, power, temperature, cell data, time-to-go, history"
    },
    {
      "name": "victron_solar_status",
      "description": "PV voltage, current, power, yield today/yesterday/total, charger state, tracker data"
    },
    {
      "name": "victron_grid_status",
      "description": "Grid power per phase (L1/L2/L3), voltage, current, frequency, energy counters"
    },
    {
      "name": "victron_vebus_status",
      "description": "Multi/Quattro: AC in/out power, input current limit, mode, state, alarms, ESS settings"
    },
    {
      "name": "victron_tank_levels",
      "description": "Tank level, capacity, remaining, fluid type (fuel, fresh water, waste, etc.)"
    },
    {
      "name": "victron_temperature",
      "description": "Temperature readings with sensor type, humidity, pressure"
    },
    {
      "name": "victron_inverter_status",
      "description": "Standalone inverter: AC output, state, alarms (Phoenix, Inverter RS)"
    },
    {
      "name": "victron_evcs_status",
      "description": "EV Charging Station (direct connection): power, status, session energy, temperatures"
    },
    {
      "name": "victron_multi_status",
      "description": "Multi RS inverter/charger: AC in/out per phase, battery data, charge/inverter state, alarms"
    },
    {
      "name": "victron_pvinverter_status",
      "description": "AC-coupled PV inverters (Fronius, SolarEdge, ABB): power per phase, energy totals"
    },
    {
      "name": "victron_genset_status",
      "description": "AC genset controllers: 3-phase AC, engine data, oil/coolant/exhaust temperatures"
    },
    {
      "name": "victron_dcgenset_status",
      "description": "DC generators: DC voltage/current, engine data, temperatures, error codes"
    },
    {
      "name": "victron_alternator_status",
      "description": "NMEA 2000 alternators: voltage/current, RPM, field drive %, alarms"
    },
    {
      "name": "victron_charger_status",
      "description": "AC chargers (Skylla, Blue Smart): up to 3 outputs, charge state, alarms"
    },
    {
      "name": "victron_dcdc_status",
      "description": "Orion XS DC-DC converter: battery voltage/current/temperature, charge state"
    },
    {
      "name": "victron_acload_status",
      "description": "AC load / current sensors: per-phase power, voltage, current, energy totals"
    },
    {
      "name": "victron_dcenergy_status",
      "description": "DC energy meters (SmartShunts in DC meter mode): voltage, current, energy"
    },
    {
      "name": "victron_gx_info",
      "description": "GX device identity: serial number, relay states, system time"
    },
    {
      "name": "victron_digital_inputs",
      "description": "Digital input state, type (door, bilge, alarm, generator), pulse count"
    },
    {
      "name": "victron_gps_status",
      "description": "GPS position: latitude, longitude, altitude, course, speed, satellite count"
    },
    {
      "name": "victron_meteo_status",
      "description": "Meteo sensors: solar irradiance (W/m²), wind speed, temperatures"
    },
    {
      "name": "victron_generator_status",
      "description": "GX generator auto start/stop: runtime, start condition, quiet hours, alarms"
    },
    {
      "name": "victron_network_scan",
      "description": "Scan the local network (subnet) to find Victron GX devices by probing Modbus TCP and MQTT ports"
    },
    {
      "name": "victron_setup",
      "description": "Full system setup: test both transports, discover all devices/services, generate ready-to-use MCP config"
    },
    {
      "name": "victron_mqtt_discover",
      "description": "Auto-discover portal ID, list all MQTT services and device instances, output ready-to-paste config"
    },
    {
      "name": "victron_discover",
      "description": "Scan Modbus unit IDs to find all connected devices and their types"
    },
    {
      "name": "victron_read_category",
      "description": "Read all registers for any device category by service name"
    },
    {
      "name": "victron_read_register",
      "description": "Read raw register(s) by address — advanced/debugging"
    },
    {
      "name": "victron_list_registers",
      "description": "List all available registers for a device category"
    }
  ]
}
